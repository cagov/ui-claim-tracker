# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- main

pool:
  vmImage: ubuntu-latest

# no PR triggers
pr: none


steps:
  
  - task: NodeAndNpmTool@1
    inputs:
      versionSpec: '14.x'
      checkLatest: true

  - task: Npm@1
    inputs:
      command: "install"

  - script: npm run build
    displayName: "npm build"
    
  - script: yarn install
    displayName: "yarn install"    
  
  
  - task: ArchiveFiles@2
    inputs:
      rootFolderOrFile: "$(build.sourcesDirectory)"
      includeRootFolder: false

  - task: PublishBuildArtifacts@1
    displayName: "Publish artifacts: drop"
